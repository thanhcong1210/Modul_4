<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Thêm mới Blog</title>
    <th:block th:replace="~{common/template::linkBootstrap}"></th:block>
    <style>
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1055;
        }
    </style>
</head>
<body>
<nav th:replace="~{common/template::navbar}"></nav>
<div class="container mt-5">
    <h2 class="mb-4">Thêm mới Blog</h2>
    <form th:action="@{/blog/create}" th:method="post" th:object="${blog}" id="createBlogForm">
        <div class="mb-3">
            <label for="name" class="form-label">Tên Blog</label>
            <input type="text" class="form-control" id="name" th:field="*{name}" placeholder="Nhập tên blog" required/>
        </div>
        <div class="mb-3">
            <label for="author" class="form-label">Tác giả</label>
            <input type="text" class="form-control" id="author" th:field="*{author}" placeholder="Nhập tên tác giả"
                   required/>
        </div>
        <div class="mb-3">
            <label for="title" class="form-label">Tiêu đề</label>
            <input type="text" class="form-control" id="title" th:field="*{title}" placeholder="Nhập tiêu đề" required/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="category">Thể loại</label>
            <select id="category" th:field="*{category.id}" class="form-select" required>
                <option value="">Chọn thể loại</option>
                <option th:each="category: ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
            </select>
        </div>
        <div class="mb-3">
            <label for="content" class="form-label">Nội dung</label>
            <textarea class="form-control" id="content" th:field="*{content}" placeholder="Nhập nội dung blog" rows="5"
                      required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Thêm mới</button>
    </form>
</div>

<!-- Toast Notification -->
<div class="toast-container">
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="me-auto">Thông báo</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Thêm mới thành công!!!
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    $(document).ready(function () {
        // Hiển thị toast nếu có thông báo từ server
        var message = /*[[${message}]]*/ '';
        if (message) {
            $('.toast-body').text(message);
            $('.toast').toast('show');
        }
    });
</script>
</body>
</html>
